/*
 * NORMANDPLLC-STYLE RESPONSIVE FIXES
 * Based on analysis of normandpllc.com responsive design patterns
 * Fixes all critical mobile issues while maintaining design integrity
 */

/* =============================================================================
   CSS VARIABLES - MATCHING NORMANDPLLC.COM
   ============================================================================= */
:root {
  /* Fluid Typography System - Exact from normandpllc */
  --h1-mobile-size: clamp(48px, 12vw, 75px);
  --h2-mobile-size: clamp(36px, 10vw, 65px);
  --h3-mobile-size: clamp(28px, 8vw, 48px);
  --h4-mobile-size: clamp(20px, 6vw, 32px);
  
  /* Spacing Scale */
  --mobile-padding: 24px;
  --mobile-margin: 16px;
  --touch-target-size: 44px;
  
  /* Content Width */
  --mobile-content-width: 100%;
  --tablet-content-width: 45rem;
  --desktop-content-width: 55rem;
}

/* =============================================================================
   CRITICAL FIX 1: PREVENT ALL HORIZONTAL SCROLLING
   ============================================================================= */
* {
  box-sizing: border-box !important;
  max-width: 100% !important;
}

html {
  overflow-x: hidden !important;
  width: 100% !important;
}

body {
  overflow-x: hidden !important;
  max-width: 100vw !important;
  width: 100% !important;
  position: relative !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* Force all sections to respect viewport */
section, .section, main, .main-wrapper, .page-wrapper,
.hero-section, .services-orange-section, .contact-section,
.case-studies-section, .testimonials-section, .team-section {
  max-width: 100vw !important;
  overflow-x: hidden !important;
  position: relative !important;
}

/* =============================================================================
   CRITICAL FIX 2: HERO TEXT SIZING (MATCHING NORMANDPLLC)
   ============================================================================= */
@media screen and (max-width: 414px) {
  /* Hero title - exactly like normandpllc */
  .hero-title, 
  h1,
  .heading-style-h1-large {
    font-size: clamp(48px, 14vw, 54px) !important;
    line-height: 0.9 !important;
    letter-spacing: -0.02em !important;
    word-break: break-word !important;
    overflow-wrap: break-word !important;
    hyphens: auto !important;
  }
  
  /* Hero subtitle */
  .hero-subtitle,
  .hero-secondary {
    font-size: clamp(14px, 4vw, 18px) !important;
    line-height: 1.4 !important;
  }
  
  /* Hero tagline */
  .hero-tagline {
    font-size: clamp(12px, 3.5vw, 14px) !important;
    letter-spacing: 0.1em !important;
  }
}

@media screen and (min-width: 415px) and (max-width: 768px) {
  .hero-title, h1 {
    font-size: clamp(54px, 12vw, 65px) !important;
  }
}

/* =============================================================================
   CRITICAL FIX 3: TOUCH TARGETS (44x44px MINIMUM)
   ============================================================================= */
@media screen and (max-width: 768px) {
  /* All interactive elements */
  button, 
  a, 
  input[type="submit"], 
  input[type="button"],
  .button,
  .btn,
  .nav-link,
  .menu-item a,
  .service-card-link,
  .case-study-link,
  .team-link,
  .news-link,
  .lang-btn {
    min-height: 44px !important;
    min-width: 44px !important;
    padding: 12px 16px !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    cursor: pointer !important;
    touch-action: manipulation !important;
  }
  
  /* Form inputs */
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input[type="password"],
  input[type="number"],
  textarea,
  select {
    min-height: 44px !important;
    padding: 12px 16px !important;
    font-size: 16px !important; /* Prevents iOS zoom */
    width: 100% !important;
    border-radius: 4px !important;
  }
  
  /* Menu toggle button */
  .menu-toggle,
  .hamburger-menu {
    min-height: 50px !important;
    width: 100% !important;
    font-size: 15px !important;
    background: #010101 !important;
    color: #b3b3b3 !important;
    border: none !important;
  }
}

/* =============================================================================
   CRITICAL FIX 4: MOBILE NAVIGATION (NORMANDPLLC STYLE)
   ============================================================================= */
@media screen and (max-width: 960px) {
  /* Hide desktop navigation */
  .navbar,
  .nav-wrapper {
    display: none !important;
  }
  
  /* Show mobile menu toggle */
  .menu-toggle {
    display: flex !important;
    width: 100% !important;
    justify-content: center !important;
    padding: 1em 0 !important;
    background: #010101 !important;
    color: #b3b3b3 !important;
    text-transform: uppercase !important;
    letter-spacing: 0.05em !important;
    font-size: 15px !important;
    cursor: pointer !important;
    border: 0 !important;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    z-index: 1001 !important;
  }
  
  /* Mobile navigation menu */
  .main-navigation {
    position: fixed !important;
    top: 50px !important;
    left: 0 !important;
    width: 100% !important;
    height: calc(100vh - 50px) !important;
    background: #010101 !important;
    z-index: 1000 !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }
  
  .main-navigation.active {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }
  
  /* Mobile menu items */
  .nav-menu a {
    display: block !important;
    padding: 20px 30px !important;
    font-size: 18px !important;
    color: #ffffff !important;
    text-decoration: none !important;
    text-transform: uppercase !important;
    letter-spacing: 0.05em !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
    min-height: 44px !important;
  }
  
  .nav-menu a:active,
  .nav-menu a:hover {
    color: #fc5a2b !important;
    background: rgba(252, 90, 43, 0.1) !important;
  }
}

/* =============================================================================
   CRITICAL FIX 5: CONTENT PADDING & SPACING
   ============================================================================= */
@media screen and (max-width: 768px) {
  /* Global container padding */
  .content-container,
  .container,
  .container-large,
  .wrapper,
  .padding-global {
    padding-left: 24px !important;
    padding-right: 24px !important;
    max-width: 100% !important;
  }
  
  /* Section padding */
  section,
  .section {
    padding-top: 60px !important;
    padding-bottom: 60px !important;
  }
  
  /* Hero section specific */
  .hero-section {
    min-height: 100vh !important;
    padding: 80px 24px 60px 24px !important;
  }
  
  .hero-content {
    max-width: 100% !important;
    padding: 0 !important;
    margin: 0 auto !important;
    text-align: center !important;
  }
  
  /* Hide hero portrait on mobile */
  .hero-portrait {
    display: none !important;
  }
}

/* =============================================================================
   DESKTOP LAYOUT FIXES - RESTORE PROPER DESKTOP BEHAVIOR
   ============================================================================= */
@media screen and (min-width: 960px) {
  /* Reset mobile overrides for desktop */
  .hero-section {
    padding-left: 150px !important;
    padding-right: 0 !important;
    text-align: left !important;
    min-height: 100vh !important;
    display: flex !important;
    align-items: center !important;
    justify-content: flex-start !important;
  }
  
  .hero-content {
    max-width: 55% !important;
    padding: 0 !important;
    position: relative !important;
    z-index: 2 !important;
    text-align: left !important;
  }
  
  /* Show and position hero portrait correctly */
  .hero-portrait {
    display: block !important;
    position: absolute !important;
    top: 0 !important;
    right: 0 !important;
    width: 40% !important;
    height: 100% !important;
    background: linear-gradient(135deg, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.4) 100%) !important;
    z-index: 1 !important;
  }
  
  /* Desktop menu positioning */
  .menu-toggle {
    width: 130px !important;
    padding: 1em 0 !important;
    position: absolute !important;
    top: 50% !important;
    background: transparent !important;
    transform: translateY(-50%) rotate(-90deg) !important;
    left: 0 !important;
  }
  
  /* Global container adjustments for desktop */
  .content-container,
  .container-large,
  .padding-global {
    max-width: var(--desktop-content-width) !important;
    padding-left: 80px !important;
    padding-right: 80px !important;
  }
}

@media screen and (min-width: 1200px) {
  .content-container,
  .container-large,
  .padding-global {
    max-width: 55rem !important;
  }
}

@media screen and (min-width: 1440px) {
  .content-container,
  .container-large,
  .padding-global {
    max-width: 67rem !important;
  }
  
  .menu-toggle {
    width: 212px !important;
    padding: 1em 1.75em !important;
  }
}

/* =============================================================================
   CRITICAL FIX 6: TEXT READABILITY
   ============================================================================= */
@media screen and (max-width: 768px) {
  /* Base text sizing */
  body,
  p,
  .text,
  .paragraph {
    font-size: 16px !important;
    line-height: 1.6 !important;
  }
  
  /* Smaller text elements */
  small,
  .small-text,
  .footer-text,
  .caption {
    font-size: 14px !important;
    line-height: 1.5 !important;
  }
  
  /* Headings hierarchy */
  h2, .heading-style-h2 {
    font-size: clamp(32px, 10vw, 48px) !important;
    line-height: 1.1 !important;
  }
  
  h3, .heading-style-h3 {
    font-size: clamp(24px, 8vw, 36px) !important;
    line-height: 1.2 !important;
  }
  
  h4, .heading-style-h4 {
    font-size: clamp(20px, 6vw, 28px) !important;
    line-height: 1.3 !important;
  }
}

/* =============================================================================
   CRITICAL FIX 7: ORANGE SERVICE SECTION
   ============================================================================= */
@media screen and (max-width: 768px) {
  .services-orange-section {
    padding: 80px 24px !important;
    min-height: auto !important;
  }
  
  .services-main-title {
    font-size: clamp(36px, 10vw, 48px) !important;
    margin-bottom: 40px !important;
  }
  
  .services-content-wrapper {
    flex-direction: column !important;
    gap: 40px !important;
  }
  
  .services-image {
    flex: 1 !important;
    max-width: 100% !important;
    height: 250px !important;
  }
  
  .privacy-overlap-title {
    font-size: clamp(32px, 9vw, 42px) !important;
  }
  
  .services-bottom-image {
    margin: 40px auto !important;
  }
  
  .services-bottom-image img {
    width: 100% !important;
    max-width: 300px !important;
  }
}

/* =============================================================================
   CRITICAL FIX 8: SERVICE CARDS GRID
   ============================================================================= */
@media screen and (max-width: 768px) {
  .service-cards-grid {
    grid-template-columns: 1fr !important;
    gap: 30px !important;
    padding: 0 24px !important;
  }
  
  .service-card {
    padding: 30px 20px !important;
  }
  
  .service-card-image {
    width: 150px !important;
    height: 150px !important;
    margin: 0 auto 20px !important;
  }
  
  .service-card h3 {
    font-size: 18px !important;
    margin-bottom: 12px !important;
  }
  
  .service-card p {
    font-size: 15px !important;
    margin-bottom: 20px !important;
  }
}

/* =============================================================================
   CRITICAL FIX 9: LANGUAGE SWITCHER
   ============================================================================= */
@media screen and (max-width: 768px) {
  .language-switcher {
    position: fixed !important;
    top: 10px !important;
    right: 10px !important;
    z-index: 1002 !important;
    gap: 3px !important;
    padding: 3px !important;
    background: rgba(0, 0, 0, 0.9) !important;
  }
  
  .lang-btn {
    min-width: 44px !important;
    min-height: 44px !important;
    padding: 10px 12px !important;
    font-size: 14px !important;
    font-weight: 600 !important;
  }
}

/* =============================================================================
   CRITICAL FIX 10: FOOTER RESPONSIVE
   ============================================================================= */
@media screen and (max-width: 768px) {
  .site-footer {
    padding: 40px 24px 20px !important;
  }
  
  .footer-content {
    grid-template-columns: 1fr !important;
    gap: 30px !important;
    text-align: center !important;
  }
  
  .footer-column h4 {
    font-size: 16px !important;
    margin-bottom: 15px !important;
  }
  
  .footer-column ul li {
    margin-bottom: 8px !important;
  }
  
  .footer-column ul li a {
    font-size: 14px !important;
    padding: 5px 0 !important;
    display: inline-block !important;
    min-height: 44px !important;
    min-width: 44px !important;
    line-height: 34px !important;
  }
}

/* =============================================================================
   UTILITY CLASSES FOR MOBILE
   ============================================================================= */
@media screen and (max-width: 768px) {
  /* Hide on mobile */
  .hide-mobile,
  .desktop-only {
    display: none !important;
  }
  
  /* Stack on mobile */
  .flex-row,
  .grid-2-col,
  .grid-3-col {
    display: flex !important;
    flex-direction: column !important;
    gap: 20px !important;
  }
  
  /* Full width on mobile */
  .w-50,
  .half-width,
  .third-width {
    width: 100% !important;
  }
  
  /* Center text on mobile */
  .text-left-desktop {
    text-align: center !important;
  }
}

/* =============================================================================
   ANIMATION OPTIMIZATIONS FOR MOBILE
   ============================================================================= */
@media screen and (max-width: 768px) {
  /* Disable complex animations on mobile for performance */
  *,
  *::before,
  *::after {
    animation-duration: 0.3s !important;
    transition-duration: 0.3s !important;
  }
  
  /* Disable parallax on mobile */
  .parallax {
    transform: none !important;
  }
}

/* =============================================================================
   PRINT STYLES
   ============================================================================= */
@media print {
  .menu-toggle,
  .hamburger-menu,
  .language-switcher,
  .custom-cursor {
    display: none !important;
  }
}